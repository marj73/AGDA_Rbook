<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 DBSCAN for 3D features detection in geosciences | 08-DBSCAN.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 DBSCAN for 3D features detection in geosciences | 08-DBSCAN.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 DBSCAN for 3D features detection in geosciences | 08-DBSCAN.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/AGDA_ImageCover.webp"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#dbscan"><i class="fa fa-check"></i><b>1</b> DBSCAN for 3D features detection in geosciences</a>
<ul>
<li class="chapter" data-level="1.1" data-path=""><a href="#the-overall-methodology"><i class="fa fa-check"></i><b>1.1</b> The overall methodology</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path=""><a href="#dbscan-3-d-density-based-clustering-algorithm"><i class="fa fa-check"></i><b>1.1.1</b> DBSCAN: 3-D density based clustering algorithm</a></li>
<li class="chapter" data-level="1.1.2" data-path=""><a href="#field-campaign"><i class="fa fa-check"></i><b>1.1.2</b> Field campaign</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path=""><a href="#computing-lab-dbscan"><i class="fa fa-check"></i><b>1.2</b> Computing lab: DBSCAN</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path=""><a href="#load-the-libraries"><i class="fa fa-check"></i><b>1.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="1.2.2" data-path=""><a href="#import-and-visualize-the-point-clouds-dataset"><i class="fa fa-check"></i><b>1.2.2</b> Import and visualize the point clouds dataset</a></li>
<li class="chapter" data-level="1.2.3" data-path=""><a href="#compute-dbscan"><i class="fa fa-check"></i><b>1.2.3</b> Compute DBSCAN</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path=""><a href="#conclusions-and-further-analyses"><i class="fa fa-check"></i><b>1.3</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="dbscan" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> DBSCAN for 3D features detection in geosciences<a href="#dbscan" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>A terrestrial laser scanner (TLS) is a sophisticated surveying tool designed for capturing highly accurate and dense 3D point cloud data of physical environments.
Sequential acquisition are used to detect and quantify surface changes.
Neverthless, three main challenges arise from TLS data collection:</p>
<ol style="list-style-type: decimal">
<li>The large number of points acquired is computationally intense and datasets have to be filtered depending on the aim of the investigation.</li>
<li>Data collection methods suffer from perspective effects, which can lead to either zones of occlusion (shadow effect) or spatially-variable point densities.</li>
<li>3D point clouds are normally interpolated to digital elevation models either as regular grids or triangulated irregular networks.</li>
</ol>
<p>Thus, for change detection proposes (i.e. the determination of topographic change, including erosion and deposition), it is appropriate to develop methods based upon the direct analysis of the point clouds using semi-automatic approaches allowing to detect and extract individual features.</p>
<p>In this practical computing lab we introduce a semi-automated method developed for isolating and identifying features of topographic change (i.e., apparent changes caused by surface displacements and indicating erosion or deposition) directly from point cloud data using a Density-Based Spatial Clustering of Applications with Noise (DBSCAN).
This methodology was developed in <span class="citation">@micheletti_geomorphological_2017</span> for a very active rock glacier front located in the Swiss Alps: the Tsarmine rock glacier.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:jpg"></span>
<img src="images/Tsarmine2.jpg" alt="The Tsarmine rock glacier, Hérens Valley, in the Western Swiss Alps. Source: Micheletti et al, 2016 \label{Tsarmine}" width="50%" height="70%" />
<p class="caption">
Figure 1.1: The Tsarmine rock glacier, Hérens Valley, in the Western Swiss Alps. Source: Micheletti et al, 2016
</p>
</div>
<div id="the-overall-methodology" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> The overall methodology<a href="#the-overall-methodology" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Stepwise analysis:</strong></p>
<ol style="list-style-type: decimal">
<li>Point clouds were generated using a TLS on a number of dates.</li>
<li>Point clouds were co-registered using stable zones within the surveyed area.</li>
<li>Using a threshold value, only the points that can have experienced topographical changes were selected.</li>
<li>The final dataset was treated with DBSCAN, aiming at grouping cluster points into single features and filtering out noise points, found in low-density regions.</li>
</ol>
<p>The present lab deals with steps 3 and 4: 3D features detection using DBSCAN.
The detected features are finally labeled as clusters and visualized in a 3D map.</p>
<p>Material loss or gain can eventually be analysed in a GIS environment according to the elevation assignment of the change and the volume of change computed for each cluster by a triangulation process (not performed in this lab).
The entire work is inspired by the study of <span class="citation">@micheletti_geomorphological_2017</span>.</p>
<div id="dbscan-3-d-density-based-clustering-algorithm" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> DBSCAN: 3-D density based clustering algorithm<a href="#dbscan-3-d-density-based-clustering-algorithm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>DBSCAN allows identification of spatial clusters of arbitrary shape on the base of the local density of points.
Points that are close together are grouped into the same cluster, while isolated points are labelled as noise.
Two parameters are required to perform this classification: the minimum number of points necessary to form a cluster (<span class="math inline">\(MinPts\)</span>), and the neighborhood size epsilon (<span class="math inline">\(eps\)</span>).
The algorithm explores each point in the dataset, counting the number of the neighboring points falling within a circle (for the 2D model) or a sphere (for the 3D model) of radius equal to <span class="math inline">\(eps\)</span> (a).
If this number is equal to or greater than <span class="math inline">\(MinPts\)</span>, points are labelled as belonging to the same cluster (b).
If this number is lower than <span class="math inline">\(MinPts\)</span>, points are classified as noise.
The central point of each cluster is called “core-point”.
Since some points can be density-reachable by more than one core-point, they can belong to more than one cluster.
In this case clusters are blended together to form a unique feature of arbitrary shape (c).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig2"></span>
<img src="images/parameters.png" alt="Parameters in DBSCAN to form a cluster \label{dbscan}" width="163" />
<p class="caption">
Figure 1.2: Parameters in DBSCAN to form a cluster
</p>
</div>
</div>
<div id="field-campaign" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Field campaign<a href="#field-campaign" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An ultra-long range LiDAR RIEGL VZ-6000 scanner was employed to acquire sequential 3D datasets of the rock glacier front.
The TLS scans were performed on different dates over two consecutive summers: a first survey was carried out on the 23th of September 2014, and the last one on the 22th of September 2015.</p>
<p>DBSCAN requires as input a 3-dimensional dataset, which in our case consists on the points clouds plus the displacement distance.
For the two co-registered datasets (2014 and 2015), we set the first as the target and the more recent one as the reference.
For each point in the target dataset the corresponding nearest point in the reference dataset was identified and the distance between them evaluated using the software Cloud Compare.
Co-registration errors, estimated as noise and not real material loss/gain signals, has to be removed from the analysis.
Here, we noted from field observations that the size of displaced boulders is typically &gt; 0.30 m and we use this as a change criteria to remove the noise.</p>
</div>
</div>
<div id="computing-lab-dbscan" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Computing lab: DBSCAN<a href="#computing-lab-dbscan" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-the-libraries" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Load the libraries<a href="#load-the-libraries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Fist you have to load the following libraries:</p>
<ul>
<li><em>dbscan</em>: a fast implementation of several density-based algorithms of the DBSCAN family.</li>
<li><em>rgl</em>: provides medium to high level functions for 3D interactive graphics</li>
<li><em>plot3Drgl</em>: plot 3D graphs in rgl window.</li>
<li><em>classInt</em>: selected methods to choose class intervals for mapping puposes.</li>
<li><em>RColorBrewer</em>: provides color schemes for mapping.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;dbscan&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;rgl&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;plot3Drgl&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;classInt&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>(<span class="fu">.packages</span>())</span></code></pre></div>
</div>
<div id="import-and-visualize-the-point-clouds-dataset" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Import and visualize the point clouds dataset<a href="#import-and-visualize-the-point-clouds-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We provide the dataset corresponding to one-year displacement distance, masked over the the rock glacier front.
The noise-points are removed using a threshold of 30 cm.
Finally we will plot the 3D-points cloud filtered dataset using the displacement distance as attribute to display the map.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Import point cloud dataset (ptc)</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># 1 year displacement TLS campaigns; data masked over the active front only.</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>ptc <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;data/DBSCAN/TsarmineRG_230914_frontonly_XYZ_dist_ref_220915.txt&quot;</span>, <span class="at">header=</span><span class="cn">FALSE</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># Add names to columns: X,Y, Z coordinates and the displacement distance &quot;d&quot;.</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">colnames</span>(ptc)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Y&quot;</span>,<span class="st">&quot;X&quot;</span>,<span class="st">&quot;Z&quot;</span>,<span class="st">&quot;d&quot;</span>) <span class="co"># rename columns</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co"># Inspect the dataset:</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="fu">str</span>(ptc)</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="fu">summary</span>(ptc<span class="sc">$</span>d)</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log10</span>(ptc<span class="sc">$</span>d))</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/import-data-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Create a subset: removing noise-points (d&gt;30cm).</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>ptc30 <span class="ot">&lt;-</span> <span class="fu">subset</span>(ptc, d<span class="sc">&gt;=</span><span class="fl">0.3</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Inspect the subset:</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="fu">str</span>(ptc30)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="fu">summary</span>(ptc30<span class="sc">$</span>d)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Plot-3D: display 3D plot (X,Y,Z) with class intervals based on the distance d.</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># Create a class interval (int) based on natural breaks:</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>int <span class="ot">&lt;-</span> <span class="fu">classIntervals</span>(ptc30<span class="sc">$</span>d, <span class="at">n=</span><span class="dv">5</span>, <span class="at">style=</span><span class="st">&quot;fisher&quot;</span>) </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  cut.vals<span class="ot">&lt;-</span>int<span class="sc">$</span>brks</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  </span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># Display the 3D-plot:</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="fu">scatter3D</span>(ptc30<span class="sc">$</span>X, ptc30<span class="sc">$</span>Y, ptc30<span class="sc">$</span>Z, <span class="at">colvar =</span>ptc30<span class="sc">$</span>d, <span class="at">breaks=</span>cut.vals, <span class="at">cex=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/points-clouds-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="compute-dbscan" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Compute DBSCAN<a href="#compute-dbscan" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The two parameters <span class="math inline">\(eps\)</span> and <span class="math inline">\(MinPts\)</span> greatly affect the output cluster detection leading to the identification of a large number of small clusters (for small values) or a small number of large features of arbitrary shape (for large values).
Once fixed the <span class="math inline">\(MinPts\)</span> parameter, a suitable value for the <span class="math inline">\(eps\)</span> neighborhood size can be estimated using k-Nearest Neighbors (k-NN) distance graph, imposing <span class="math inline">\(k\)</span> equal to <span class="math inline">\(MinPts\)</span> and plotting the distance to the nearest neighbors.
The optimal <span class="math inline">\(eps\)</span>-value should coincide with the stronger curvature of the graph.</p>
<p>In the following, the minimum number of points allowing to form a cluster is fixed first (to 10), and then the plot of the k-NN distance is used to find a suitable value for the <span class="math inline">\(eps\)</span> neighborhood size.</p>
<p>For the computation we introduce here the R package <code>dbscan</code> <span class="citation">[@DBSCAN_library]</span></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Plot the k-NN distance graph (with k=10)</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">kNNdistplot</span>(ptc30[,<span class="sc">-</span><span class="dv">4</span>], <span class="at">k =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/k-NN-graph-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Once the best <span class="math inline">\(MinPts\)</span> and <span class="math inline">\(eps\)</span> parameter have been selected, the DBSCAN function can be run.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Eps=1m (~3xsigma) ; MinPts=10</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>cl30<span class="ot">&lt;-</span><span class="fu">dbscan</span>(ptc30, <span class="dv">1</span>, <span class="at">minPts=</span><span class="dv">10</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co"># Inspect the results:</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">str</span>(cl30)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="fu">summary</span>(cl30<span class="sc">$</span>cluster)</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="fu">sum</span>(cl30<span class="sc">$</span>cluster<span class="sc">==</span><span class="dv">0</span>)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Plot only the detected clusters.</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co"># Join the data:</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>cl30<span class="ot">&lt;-</span><span class="fu">cbind</span>(ptc30, <span class="at">cluster=</span>cl30<span class="sc">$</span>cluster)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co"># Save as data frame and remove the noise (label==0)</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>cl30_df<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">subset</span>(cl30, cl30<span class="sc">$</span>cluster<span class="sc">&gt;=</span><span class="dv">1</span>))</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co"># Simple plot:</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="fu">plot</span>(cl30_df<span class="sc">$</span>X, cl30_df<span class="sc">$</span>Y, <span class="at">col=</span>cl30_df<span class="sc">$</span>cluster, <span class="at">pch=</span><span class="dv">20</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/plot-clusters-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Animated 3D-plot:</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co">#plot3d(cl30_df, col=cl30_df$cluster, pch=20)</span></span></code></pre></div>
<p>Finally you can export the result as a *.txt file and import it in a GIS system for further analyses, such as to determine the volumes of loss or gain of material.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">write.table</span>(cl30_df, <span class="at">file=</span><span class="st">&quot;cls30_1_10.txt&quot;</span>, <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="conclusions-and-further-analyses" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Conclusions and further analyses<a href="#conclusions-and-further-analyses" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The proposed method allowed to detection of features of changes on a rock glacier front located in the Swiss Alps.
Single cluster features of erosion and deposition/front movements were extracted directly from point clouds, detected by DBSCAN without the necessity of interpolate the 3-D original data.</p>
<p>To ensure that everything is perfectly clear, we propose you to do this lab again, by changing the values of <em>MinPts</em> and <em>eps</em> and discuss the compare the resulting extracted features.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EugeneGIS/AGDAbook/edit/master/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
