<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interpretability &amp; Explainability with Random Forest | Advanced Geospatial Data Analysis with R – Applications in Geosciences</title>
  <meta name="description" content="Chapter 6 Interpretability &amp; Explainability with Random Forest | Advanced Geospatial Data Analysis with R – Applications in Geosciences" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interpretability &amp; Explainability with Random Forest | Advanced Geospatial Data Analysis with R – Applications in Geosciences" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interpretability &amp; Explainability with Random Forest | Advanced Geospatial Data Analysis with R – Applications in Geosciences" />
  
  
  

<meta name="author" content="Dr. Marj Tonini, Haokun Liu" />


<meta name="date" content="2024-08-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="predictive-mapping-of-natural-hazards-using-random-forest.html"/>
<link rel="next" href="local-random-forest.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/AGDA_ImageCover.webp"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-overview"><i class="fa fa-check"></i>Book overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#computing-lab"><i class="fa fa-check"></i>Computing lab</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#target-audience"><i class="fa fa-check"></i>Target audience</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-information"><i class="fa fa-check"></i>Authors information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#my-journey-of-learning-integrating-geospatial-data-analysis-with-data-science"><i class="fa fa-check"></i>My Journey of Learning: Integrating Geospatial Data Analysis with Data Science</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-language"><i class="fa fa-check"></i><b>1.1</b> R Language</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-packages"><i class="fa fa-check"></i><b>1.1.1</b> R Packages</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#some-tips"><i class="fa fa-check"></i><b>1.1.2</b> Some tips</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-commands-online-resources"><i class="fa fa-check"></i><b>1.1.3</b> R Commands (online resources)</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-markdown"><i class="fa fa-check"></i><b>1.2</b> R Markdown</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-type-in-computational-analysis"><i class="fa fa-check"></i><b>1.3</b> Data type in computational analysis</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>1.3.1</b> Variables</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-structure-in-r"><i class="fa fa-check"></i><b>1.3.2</b> Data structure in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html"><i class="fa fa-check"></i><b>2</b> Basic operation with geodata in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plotting-vector-dataset"><i class="fa fa-check"></i><b>2.2</b> Plotting vector dataset</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#package-sf-for-vector-dataset"><i class="fa fa-check"></i><b>2.2.1</b> Package <strong><em>sf</em></strong> for vector dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plot-vector-features"><i class="fa fa-check"></i><b>2.2.2</b> Plot vector features</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plotting-raster-dataset"><i class="fa fa-check"></i><b>2.3</b> Plotting raster dataset</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#terra-package-and-raster-dataset"><i class="fa fa-check"></i><b>2.3.1</b> Terra package and raster dataset</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plot-raster-features"><i class="fa fa-check"></i><b>2.3.2</b> Plot raster features</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#geodata-manipulation"><i class="fa fa-check"></i><b>2.4</b> Geodata manipulation</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#manipulate-tabular-datasets"><i class="fa fa-check"></i><b>2.4.1</b> Manipulate tabular datasets</a></li>
<li class="chapter" data-level="2.4.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#pipes-chaining-of-multiple-operations"><i class="fa fa-check"></i><b>2.4.2</b> Pipes: chaining of multiple operations</a></li>
<li class="chapter" data-level="2.4.3" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#join-table"><i class="fa fa-check"></i><b>2.4.3</b> Join table</a></li>
<li class="chapter" data-level="2.4.4" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#mapping-with-ggplot2"><i class="fa fa-check"></i><b>2.4.4</b> Mapping with ggplot2</a></li>
<li class="chapter" data-level="2.4.5" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#cropping-ratser"><i class="fa fa-check"></i><b>2.4.5</b> Cropping ratser</a></li>
<li class="chapter" data-level="2.4.6" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#display-the-categorical-variables-of-a-raster"><i class="fa fa-check"></i><b>2.4.6</b> Display the categorical variables of a raster</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#further-reading"><i class="fa fa-check"></i><b>2.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html"><i class="fa fa-check"></i><b>3</b> Geographically Weighted Summary Statistics for Geosciences</a>
<ul>
<li class="chapter" data-level="3.1" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#gwss-for-natural-hazards-assessment"><i class="fa fa-check"></i><b>3.1</b> GWSS for natural hazards assessment</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#the-overall-methodology"><i class="fa fa-check"></i><b>3.1.1</b> The overall methodology</a></li>
<li class="chapter" data-level="3.1.2" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#forest-fires-dataset"><i class="fa fa-check"></i><b>3.1.2</b> Forest fires dataset</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#computing-lab-gwss"><i class="fa fa-check"></i><b>3.2</b> Computing lab: GWSS</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#load-the-libraries"><i class="fa fa-check"></i><b>3.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="3.2.2" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#import-the-forest-fire-dataset"><i class="fa fa-check"></i><b>3.2.2</b> Import the forest fire dataset</a></li>
<li class="chapter" data-level="3.2.3" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#forest-fires-spatial-distribution"><i class="fa fa-check"></i><b>3.2.3</b> Forest fires spatial distribution</a></li>
<li class="chapter" data-level="3.2.4" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#compute-the-gwss"><i class="fa fa-check"></i><b>3.2.4</b> Compute the GWSS</a></li>
<li class="chapter" data-level="3.2.5" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#look-at-the-results"><i class="fa fa-check"></i><b>3.2.5</b> Look at the results</a></li>
<li class="chapter" data-level="3.2.6" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#gwss-maps"><i class="fa fa-check"></i><b>3.2.6</b> GWSS maps</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="geographically-weighted-summary-statistics-for-geosciences.html"><a href="geographically-weighted-summary-statistics-for-geosciences.html#conclusions-and-further-analyses"><i class="fa fa-check"></i><b>3.3</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><i class="fa fa-check"></i><b>4</b> Spatio-Temporal Cluster Analysis of Geoenvironmental Processes</a>
<ul>
<li class="chapter" data-level="4.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#st-clustering-for-fire-management"><i class="fa fa-check"></i><b>4.1</b> ST clustering for fire management</a></li>
<li class="chapter" data-level="4.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#clustering-methods"><i class="fa fa-check"></i><b>4.2</b> Clustering methods</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ripleys-k-function"><i class="fa fa-check"></i><b>4.2.1</b> Ripley’s K-function</a></li>
<li class="chapter" data-level="4.2.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#kernel-density-estimator"><i class="fa fa-check"></i><b>4.2.2</b> Kernel density estimator</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#computing-lab-spatio-temporal-clustering"><i class="fa fa-check"></i><b>4.3</b> Computing lab: spatio-temporal clustering</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#load-the-libraries-1"><i class="fa fa-check"></i><b>4.3.1</b> Load the libraries</a></li>
<li class="chapter" data-level="4.3.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#import-the-forest-fire-dataset-1"><i class="fa fa-check"></i><b>4.3.2</b> Import the forest fire dataset</a></li>
<li class="chapter" data-level="4.3.3" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ff-subsets-based-on-the-burned-areas-size"><i class="fa fa-check"></i><b>4.3.3</b> FF-subsets based on the burned areas’ size</a></li>
<li class="chapter" data-level="4.3.4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ff-subsets-based-on-the-geographical-distribution"><i class="fa fa-check"></i><b>4.3.4</b> FF-subsets based on the geographical distribution</a></li>
<li class="chapter" data-level="4.3.5" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#extract-time-and-pts-object"><i class="fa fa-check"></i><b>4.3.5</b> Extract time and PTS object</a></li>
<li class="chapter" data-level="4.3.6" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#compute-the-space-time-k-function"><i class="fa fa-check"></i><b>4.3.6</b> Compute the space-time K-function</a></li>
<li class="chapter" data-level="4.3.7" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#assess-the-space-time-clustering-behavior"><i class="fa fa-check"></i><b>4.3.7</b> Assess the space-time clustering behavior</a></li>
<li class="chapter" data-level="4.3.8" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#compute-the-space-time-kernel-density-estimator"><i class="fa fa-check"></i><b>4.3.8</b> Compute the space-time Kernel Density Estimator</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#conclusions-and-further-analyses-1"><i class="fa fa-check"></i><b>4.4</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html"><i class="fa fa-check"></i><b>5</b> Predictive Mapping of Natural Hazards Using Random Forest</a>
<ul>
<li class="chapter" data-level="5.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#rf-for-landslides-susceptibility-mapping"><i class="fa fa-check"></i><b>5.1</b> RF for landslides susceptibility mapping</a></li>
<li class="chapter" data-level="5.2" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#computing-lab-random-forest"><i class="fa fa-check"></i><b>5.2</b> Computing lab: Random Forest</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#load-the-libraries-2"><i class="fa fa-check"></i><b>5.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="5.2.2" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#load-the-input-datasets"><i class="fa fa-check"></i><b>5.2.2</b> Load the input datasets</a></li>
<li class="chapter" data-level="5.2.3" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#the-use-of-categorical-variables-in-machine-learning"><i class="fa fa-check"></i><b>5.2.3</b> The use of categorical variables in Machine Learning</a></li>
<li class="chapter" data-level="5.2.4" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#extract-the-values"><i class="fa fa-check"></i><b>5.2.4</b> Extract the values</a></li>
<li class="chapter" data-level="5.2.5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#split-the-input-dataset-into-training-and-testing"><i class="fa fa-check"></i><b>5.2.5</b> Split the input dataset into training and testing</a></li>
<li class="chapter" data-level="5.2.6" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#run-random-forest"><i class="fa fa-check"></i><b>5.2.6</b> Run Random Forest</a></li>
<li class="chapter" data-level="5.2.7" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#rf-main-outputs"><i class="fa fa-check"></i><b>5.2.7</b> RF main outputs</a></li>
<li class="chapter" data-level="5.2.8" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#model-evaluation"><i class="fa fa-check"></i><b>5.2.8</b> Model evaluation</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#susceptibility-mapping"><i class="fa fa-check"></i><b>5.3</b> Susceptibility mapping</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#class-intervals-for-decision-maker"><i class="fa fa-check"></i><b>5.3.1</b> Class intervals for decision maker</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#conclusions-and-further-analyses-2"><i class="fa fa-check"></i><b>5.4</b> Conclusions and further analyses</a></li>
<li class="chapter" data-level="5.5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#further-reading-on-this-topic"><i class="fa fa-check"></i><b>5.5</b> Further reading on this topic</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html"><i class="fa fa-check"></i><b>6</b> Interpretability &amp; Explainability with Random Forest</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#aim-of-the-present-lab"><i class="fa fa-check"></i><b>6.1</b> Aim of the present lab</a></li>
<li class="chapter" data-level="6.2" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#computing-lab-tools-to-comprehend-rf"><i class="fa fa-check"></i><b>6.2</b> Computing lab: tools to comprehend RF</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#re-load-libraries-and-workspace"><i class="fa fa-check"></i><b>6.2.1</b> Re-load libraries and workspace</a></li>
<li class="chapter" data-level="6.2.2" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#surrogate-model"><i class="fa fa-check"></i><b>6.2.2</b> Surrogate model</a></li>
<li class="chapter" data-level="6.2.3" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#features-importance-score"><i class="fa fa-check"></i><b>6.2.3</b> Features importance score</a></li>
<li class="chapter" data-level="6.2.4" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#partial-dependence-plot"><i class="fa fa-check"></i><b>6.2.4</b> Partial dependence plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="local-random-forest.html"><a href="local-random-forest.html"><i class="fa fa-check"></i><b>7</b> Local Random Forest</a>
<ul>
<li class="chapter" data-level="7.1" data-path="local-random-forest.html"><a href="local-random-forest.html#computing-lab-grf"><i class="fa fa-check"></i><b>7.1</b> Computing lab: GRF</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="local-random-forest.html"><a href="local-random-forest.html#feature-importance"><i class="fa fa-check"></i><b>7.1.1</b> Feature importance</a></li>
<li class="chapter" data-level="7.1.2" data-path="local-random-forest.html"><a href="local-random-forest.html#local-r-squared"><i class="fa fa-check"></i><b>7.1.2</b> Local R squared</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="local-random-forest.html"><a href="local-random-forest.html#conclusions-and-further-analyses-3"><i class="fa fa-check"></i><b>7.2</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><i class="fa fa-check"></i><b>8</b> Defining Territorial Typologies Using Unsupervised Learning: A SOM Approach</a>
<ul>
<li class="chapter" data-level="8.1" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#geo-demographic-context-in-switzerland"><i class="fa fa-check"></i><b>8.1</b> Geo-demographic context in Switzerland</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#swiss-census-data"><i class="fa fa-check"></i><b>8.1.1</b> Swiss census data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#self-organizing-map"><i class="fa fa-check"></i><b>8.2</b> Self Organizing Map</a></li>
<li class="chapter" data-level="8.3" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#computing-lab-som"><i class="fa fa-check"></i><b>8.3</b> Computing lab: SOM</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#load-the-libraries-3"><i class="fa fa-check"></i><b>8.3.1</b> Load the libraries</a></li>
<li class="chapter" data-level="8.3.2" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#import-the-swiss-census-dataset"><i class="fa fa-check"></i><b>8.3.2</b> Import the Swiss census dataset</a></li>
<li class="chapter" data-level="8.3.3" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#run-som"><i class="fa fa-check"></i><b>8.3.3</b> Run SOM</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#hierarchical-clustering"><i class="fa fa-check"></i><b>8.4</b> Hierarchical clustering</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#map-clusters-onto-the-geographical-space"><i class="fa fa-check"></i><b>8.4.1</b> <strong>Map clusters onto the geographical space</strong></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#clusters-characterization"><i class="fa fa-check"></i><b>8.5</b> Clusters characterization</a></li>
<li class="chapter" data-level="8.6" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#conclusions"><i class="fa fa-check"></i><b>8.6</b> Conclusions</a></li>
<li class="chapter" data-level="8.7" data-path="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html"><a href="defining-territorial-typologies-using-unsupervised-learning-a-som-approach.html#further-analyses"><i class="fa fa-check"></i><b>8.7</b> Further analyses</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html"><i class="fa fa-check"></i><b>9</b> DBSCAN for 3D features detection in geosciences</a>
<ul>
<li class="chapter" data-level="9.1" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#the-overall-methodology-1"><i class="fa fa-check"></i><b>9.1</b> The overall methodology</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#dbscan-3-d-density-based-clustering-algorithm"><i class="fa fa-check"></i><b>9.1.1</b> DBSCAN: 3-D density based clustering algorithm</a></li>
<li class="chapter" data-level="9.1.2" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#field-campaign"><i class="fa fa-check"></i><b>9.1.2</b> Field campaign</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#computing-lab-dbscan"><i class="fa fa-check"></i><b>9.2</b> Computing lab: DBSCAN</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#load-the-libraries-4"><i class="fa fa-check"></i><b>9.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="9.2.2" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#import-and-visualize-the-point-clouds-dataset"><i class="fa fa-check"></i><b>9.2.2</b> Import and visualize the point clouds dataset</a></li>
<li class="chapter" data-level="9.2.3" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#compute-dbscan"><i class="fa fa-check"></i><b>9.2.3</b> Compute DBSCAN</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="dbscan-for-3d-features-detection-in-geosciences.html"><a href="dbscan-for-3d-features-detection-in-geosciences.html#conclusions-and-further-analyses-4"><i class="fa fa-check"></i><b>9.3</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advanced Geospatial Data Analysis with R – Applications in Geosciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interpretability-explainability-with-random-forest" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interpretability &amp; Explainability with Random Forest<a href="interpretability-explainability-with-random-forest.html#interpretability-explainability-with-random-forest" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In the world of machine learning, interpretability and explainability are two therms commonly used to describe the leven of comprehension of an algorithm.
The distinction between them lies in their focus and depth.
We can say that interpretability focuses on understanding the inner workings of the models, while explainability focuses on explaining the decisions made.
Define i f an algorithm is interpretable or explainable dipend on different factors as described below.
 </p>
<p><strong>Model complexity</strong> – When dealing with intricate models like Random Forest (with tens of variables and thousands of trees), up to deep neural networks, interpretability becomes challenging due to their complexity and the interplay among their components.
In such scenarios, explainability proves to be a more practical approach, as it focuses on clarifying decisions rather than delving into the complexities of the algorithm.</p>
<p><strong>Communication</strong> – In terms of audience and purpose, interpretability primarily concerns machine learning specialists , whereas explainability targets end users seeking to grasp model decisions.
Consequently, explainability necessitates a more straightforward and intuitive communication of information.</p>
<p>While Random Forest (RF) is a powerful algorithm and often yield high accuracy, interpretability can be challenging due to its complex structure and the high number of tress.
However, the following techniques can enhance the interpretability and explainability of RF models.</p>
<ul>
<li><p><strong>Interpretability</strong> – A <em>surrogate model</em>, such as a single decision tree, can approximate the predictions of a more complex model like a RF, which is composed of thousands of decision trees.
The surrogate model is more interpretable and helps in understanding the general rules that RF tipically follows.</p></li>
<li><p><strong>Explainability</strong> – Examining <em>feature importance scores</em>, which measure the contribution of each variable to the model’s predictions, allows us to identify the most influential variables in the model’s decisions.
In addition, <em>partial dependence plots</em> enable us to visualize how changes in a variable influence the model’s predictions, making this tool useful for interpreting the global effects of predictors across the entire dataset.</p></li>
</ul>
<div id="aim-of-the-present-lab" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Aim of the present lab<a href="interpretability-explainability-with-random-forest.html#aim-of-the-present-lab" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this computing lab you will work with the outputs of RF resulting from the previous lab on landslides susceptibility map.</p>
<ul>
<li><p>Firstly, we will explore the relative importance of the predictor variables (feature importance scores) , and their relative probability of prediction success (partial dependence plots).
These are the core of explainability in RF.</p></li>
<li><p>In the second part, we will apply a local version of RF (named “<em>Geographical Random Forest</em>”) to analyse the spatial heterogeneity of the local variable importance.
This will help to deep our understanding of the influence of the predictor variable explored locally,</p></li>
</ul>
</div>
<div id="computing-lab-tools-to-comprehend-rf" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Computing lab: tools to comprehend RF<a href="interpretability-explainability-with-random-forest.html#computing-lab-tools-to-comprehend-rf" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="re-load-libraries-and-workspace" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Re-load libraries and workspace<a href="interpretability-explainability-with-random-forest.html#re-load-libraries-and-workspace" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you have quit the workspace where you have run the RF model for landslide susceptibility mapping, you need to load it again in this new project.
Loading the workspace refers to the action of restoring the saved state of R environment.
When you save your workspace in R, it typically includes all the objects (such as variables, functions, data frames, etc.) that are currently present in your R session.
Loading the workspace means to restore this saved state, bringing back all the previously saved objects into your current R session.</p>
<pre><code>##  [1] &quot;RColorBrewer&quot; &quot;tidyr&quot;        &quot;randomForest&quot; &quot;classInt&quot;     &quot;plotROC&quot;     
##  [6] &quot;ggplot2&quot;      &quot;pROC&quot;         &quot;dplyr&quot;        &quot;readr&quot;        &quot;foreign&quot;     
## [11] &quot;terra&quot;        &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;    &quot;utils&quot;       
## [16] &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;</code></pre>
</div>
<div id="surrogate-model" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Surrogate model<a href="interpretability-explainability-with-random-forest.html#surrogate-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Although machine learning algorithms are often considered as a black box, with RF is possible to plot a sample tree (selected randomly) to analyse its structure and investigate how decisions have been made.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="interpretability-explainability-with-random-forest.html#cb161-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;party&quot;</span>)</span>
<span id="cb161-2"><a href="interpretability-explainability-with-random-forest.html#cb161-2" tabindex="-1"></a></span>
<span id="cb161-3"><a href="interpretability-explainability-with-random-forest.html#cb161-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ctree</span>(LS<span class="sc">~</span>., <span class="at">data=</span>LS_train)</span>
<span id="cb161-4"><a href="interpretability-explainability-with-random-forest.html#cb161-4" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">type=</span><span class="st">&quot;simple&quot;</span>)</span></code></pre></div>
</div>
<div id="features-importance-score" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Features importance score<a href="interpretability-explainability-with-random-forest.html#features-importance-score" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>RF provides two scores allowing to assess the importance of each variables in the model: the Mean Decrease in Accuracy (MDA), and the mean decrease in Gini index.
The MDA indicates how much the tree nodes that use a given variable enable reducing the mean-square errors evaluated on the Out-Of-Bag and across all the trees.
The Gini index measures the probability of incorrectly classifying a randomly chosen element in a dataset if that element were classified based on the distribution of classes in a particular node.
The relative importance of the predictor variables can be ranked based on the increasing values of both these scores: the higher the value, the more important the variable.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="interpretability-explainability-with-random-forest.html#cb162-1" tabindex="-1"></a><span class="co"># Display the plot with the relative importance of each variable</span></span>
<span id="cb162-2"><a href="interpretability-explainability-with-random-forest.html#cb162-2" tabindex="-1"></a><span class="fu">importance</span>(RF_LS)</span>
<span id="cb162-3"><a href="interpretability-explainability-with-random-forest.html#cb162-3" tabindex="-1"></a><span class="fu">varImpPlot</span>(RF_LS)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/var-imp-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="partial-dependence-plot" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> Partial dependence plot<a href="interpretability-explainability-with-random-forest.html#partial-dependence-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Partial Dependence Plot (PDP) allows us to estimate, for each single variable, the relative probability of prediction success over different ranges of values.
PDP provides a graphical depiction of the marginal effect of each variable on the class probability over different ranges of continuous or discrete values.
Positive values are associated with the probability of occurrence of the phenomena (i.e., landslides presence), while negative vales indicate its absence.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="interpretability-explainability-with-random-forest.html#cb163-1" tabindex="-1"></a><span class="co">#Compute PDP for all the predictor variables </span></span>
<span id="cb163-2"><a href="interpretability-explainability-with-random-forest.html#cb163-2" tabindex="-1"></a></span>
<span id="cb163-3"><a href="interpretability-explainability-with-random-forest.html#cb163-3" tabindex="-1"></a><span class="co"># Slope</span></span>
<span id="cb163-4"><a href="interpretability-explainability-with-random-forest.html#cb163-4" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> slope, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb163-5"><a href="interpretability-explainability-with-random-forest.html#cb163-5" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Slope [Â°]&quot;</span>, </span>
<span id="cb163-6"><a href="interpretability-explainability-with-random-forest.html#cb163-6" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="interpretability-explainability-with-random-forest.html#cb164-1" tabindex="-1"></a><span class="co"># Elevation</span></span>
<span id="cb164-2"><a href="interpretability-explainability-with-random-forest.html#cb164-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train ,<span class="at">x.var =</span> DEM, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb164-3"><a href="interpretability-explainability-with-random-forest.html#cb164-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Elevation [m]&quot;</span>, </span>
<span id="cb164-4"><a href="interpretability-explainability-with-random-forest.html#cb164-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>,<span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="interpretability-explainability-with-random-forest.html#cb165-1" tabindex="-1"></a><span class="co"># Profile curvature</span></span>
<span id="cb165-2"><a href="interpretability-explainability-with-random-forest.html#cb165-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> profCurv, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb165-3"><a href="interpretability-explainability-with-random-forest.html#cb165-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Profile curvature [1/m]&quot;</span>, </span>
<span id="cb165-4"><a href="interpretability-explainability-with-random-forest.html#cb165-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.1</span>,<span class="fl">0.1</span>))</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-3.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="interpretability-explainability-with-random-forest.html#cb166-1" tabindex="-1"></a><span class="co"># Plan Curvature</span></span>
<span id="cb166-2"><a href="interpretability-explainability-with-random-forest.html#cb166-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> planCurv, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb166-3"><a href="interpretability-explainability-with-random-forest.html#cb166-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Plan curvature [1/m]&quot;</span>, </span>
<span id="cb166-4"><a href="interpretability-explainability-with-random-forest.html#cb166-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.1</span>,<span class="fl">0.1</span>))</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-4.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="interpretability-explainability-with-random-forest.html#cb167-1" tabindex="-1"></a><span class="co"># Distance to road</span></span>
<span id="cb167-2"><a href="interpretability-explainability-with-random-forest.html#cb167-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> distRoad, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb167-3"><a href="interpretability-explainability-with-random-forest.html#cb167-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Distance to road [m]&quot;</span>, </span>
<span id="cb167-4"><a href="interpretability-explainability-with-random-forest.html#cb167-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-5.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="interpretability-explainability-with-random-forest.html#cb168-1" tabindex="-1"></a><span class="co"># Topographic wetness index</span></span>
<span id="cb168-2"><a href="interpretability-explainability-with-random-forest.html#cb168-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> TWI, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb168-3"><a href="interpretability-explainability-with-random-forest.html#cb168-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;TWI [-]&quot;</span>, </span>
<span id="cb168-4"><a href="interpretability-explainability-with-random-forest.html#cb168-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-6.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="interpretability-explainability-with-random-forest.html#cb169-1" tabindex="-1"></a><span class="co"># Geology</span></span>
<span id="cb169-2"><a href="interpretability-explainability-with-random-forest.html#cb169-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> geology, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb169-3"><a href="interpretability-explainability-with-random-forest.html#cb169-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Geology&quot;</span>, </span>
<span id="cb169-4"><a href="interpretability-explainability-with-random-forest.html#cb169-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-7.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="interpretability-explainability-with-random-forest.html#cb170-1" tabindex="-1"></a><span class="co"># Land cover</span></span>
<span id="cb170-2"><a href="interpretability-explainability-with-random-forest.html#cb170-2" tabindex="-1"></a><span class="fu">partialPlot</span>(RF_LS, LS_train, <span class="at">x.var =</span> landCover, <span class="at">rug =</span> <span class="cn">TRUE</span>, </span>
<span id="cb170-3"><a href="interpretability-explainability-with-random-forest.html#cb170-3" tabindex="-1"></a>            <span class="at">which.class =</span> RF_LS<span class="sc">$</span>classes[<span class="dv">2</span>],<span class="at">xlab=</span> <span class="st">&quot;Land Cover&quot;</span>,</span>
<span id="cb170-4"><a href="interpretability-explainability-with-random-forest.html#cb170-4" tabindex="-1"></a>            <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;PDP&quot;</span>)</span></code></pre></div>
<p><img src="06-Exp_RF_files/figure-html/par-plot-8.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="predictive-mapping-of-natural-hazards-using-random-forest.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="local-random-forest.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EugeneGIS/AGDAbook/edit/master/06-Exp_RF.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["fake-book.pdf", "fake-book.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
